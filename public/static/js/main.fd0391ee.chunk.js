(this["webpackJsonpsplitandshare-frontend"]=this["webpackJsonpsplitandshare-frontend"]||[]).push([[0],{169:function(e,t,n){},170:function(e,t,n){},187:function(e,t,n){},198:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(35),i=n.n(r),l=(n(169),n(17)),o=(n(170),n.p+"static/media/logo.219da3c4.png"),j=n(9),u=n(10),d=n(14),h=n(13),b=n(12),p=n(11),O=n(6),x=n(51),m=n.n(x),f=new(function(){function e(){Object(j.a)(this,e),this.auth=m.a.create({baseURL:"https://split-and-share.herokuapp.com",withCredentials:!0})}return Object(u.a)(e,[{key:"signup",value:function(e){var t=e.email,n=e.password,s=e.userType;return this.auth.post("/auth/signup",{email:t,password:n,userType:s}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),v=c.a.createContext(),g=v.Consumer,y=v.Provider,N=function(e,t){return function(t){Object(d.a)(a,t);var n=Object(h.a)(a);function a(){return Object(j.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(s.jsx)(g,{children:function(n){var a=n.login,c=n.signup,r=n.user,i=n.logout,l=n.isLoggedin,o=n.message;return Object(s.jsx)(e,Object(O.a)({login:a,signup:c,user:r,logout:i,isLoggedin:l,message:o},t.props))}})}}]),a}(c.a.Component)},w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedin:!1,user:null,isLoading:!0,message:""},e.signup=function(t){var n=t.email,s=t.password,a=t.userType;f.signup({email:n,password:s,userType:a}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.response;e.setState({message:n.data.message})}))},e.login=function(t){var n=t.email,s=t.password;f.login({email:n,password:s}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.response;console.log(n),e.setState({message:n.data.message})}))},e.logout=function(){f.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,c=e.message,r=this.login,i=this.logout,l=this.signup;return t?Object(s.jsx)("div",{children:"Loading"}):Object(s.jsx)(y,{value:{isLoggedin:n,user:a,login:r,logout:i,signup:l,message:c},children:this.props.children})}}]),n}(c.a.Component),F=(n(187),n(7)),C=n(4);function k(e){return Object(s.jsx)("li",{class:"nav-item",children:Object(s.jsxs)(p.b,{to:e.link,className:"nav-link text-dark font-italic bg-light",children:[Object(s.jsx)(F.a,{icon:e.icon,style:{marginRight:"10px"}}),e.title]})})}function S(e){return Object(s.jsx)("p",{className:"text-gray font-weight-bold text-uppercase px-3 small pb-4 mb-0",children:e.title})}var M=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={activeMenu:!1,canRedirect:!1},e.toggleMenu=function(){e.setState({activeMenu:!e.state.activeMenu})},e.onLogOutClick=function(){e.props.logout(),e.setState({canRedirect:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"vertical-nav bg-white ".concat(this.props.isActive?"active":""),id:"sidebar",children:[this.state.canRedirect&&Object(s.jsx)(b.a,{to:"/"}),Object(s.jsx)("div",{class:"py-4 px-3 mb-4 bg-light",children:Object(s.jsx)("div",{class:"media d-flex align-items-center",children:Object(s.jsxs)("div",{class:"media-body",children:[this.props.user&&Object(s.jsx)("img",{src:this.props.user.image,alt:"...",width:"65",class:"mr-3 rounded-circle img-thumbnail shadow-sm"}),this.props.user&&""!==this.props.user.username&&Object(s.jsx)("h4",{class:"m-0",children:"Hi, ".concat(this.props.user.username)})]})})}),Object(s.jsx)(S,{title:"MAIN"}),Object(s.jsxs)("ul",{class:"nav flex-column bg-white mb-0",children:[Object(s.jsx)(k,{title:"Home",link:"/",icon:C.i}),this.props.user&&"Flat Hunter"===this.props.user.userType&&Object(s.jsx)(k,{title:"Profile",link:"/user/".concat(this.props.user._id),icon:C.q}),this.props.user&&"Flat Owner"===this.props.user.userType&&Object(s.jsx)(k,{title:"My flats",link:"/user/".concat(this.props.user._id),icon:C.q}),Object(s.jsx)(k,{title:"Calculator",link:"/calculator",icon:C.f}),this.props.user&&Object(s.jsxs)("div",{onClick:this.onLogOutClick,className:"nav-link text-dark font-italic bg-light link",children:[Object(s.jsx)(F.a,{icon:C.n,style:{marginRight:"10px"}}),"Log out"]}),!this.props.user&&Object(s.jsx)(k,{title:"Log in",link:"/login",icon:C.m}),!this.props.user&&Object(s.jsx)(k,{title:"Sign up",link:"/signup",icon:C.s})]}),this.props.user&&"Flat Hunter"===this.props.user.userType&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S,{title:"SEARCH"}),Object(s.jsxs)("ul",{class:"nav flex-column bg-white mb-0",children:[Object(s.jsx)(k,{title:"Find Flatmates",link:"/flatmates",icon:C.r}),Object(s.jsx)(k,{title:"Find Flats",link:"/flats",icon:C.j}),Object(s.jsx)(k,{title:"Messages",link:"/myMessages",icon:C.g})]})]}),this.props.user&&"Flat Owner"===this.props.user.userType&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S,{title:"FLAT"}),Object(s.jsxs)("ul",{class:"nav flex-column bg-white mb-0",children:[Object(s.jsx)(k,{title:"My Flats",link:"/myListings",icon:C.j}),Object(s.jsx)(k,{title:"Add new flat",link:"/addMyFlat",icon:C.u})]})]})]})}}]),n}(a.Component));n(197),n(76);var L=function(){return Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Flatmate Name"}),Object(s.jsx)("input",{type:"text"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" N\xba of people by room"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Ideal Budget"}),Object(s.jsx)("input",{type:"number"})]})]})};var A=function(e){return Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Room Name"}),Object(s.jsx)("input",{type:"text"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Type of room"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"1",children:"Single"}),Object(s.jsx)("option",{value:"2",children:"Double"}),Object(s.jsx)("option",{value:"3",children:"Triple"})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Room size"}),Object(s.jsx)("input",{type:"number"})]})]})};var T=function(e){return Object(s.jsxs)("div",{className:"result",children:[Object(s.jsx)("span",{className:"labelCalculator",children:" Flatmate:"}),Object(s.jsxs)("span",{className:"calculatorResult",children:[" ",e.flatmateName]}),Object(s.jsx)("span",{className:"labelCalculator",children:"Habitaci\xf3n:"}),Object(s.jsxs)("span",{className:"calculatorResult",children:[" ",e.roomName]}),Object(s.jsx)("span",{className:"labelCalculator",children:" Fairly rent:"}),Object(s.jsxs)("span",{className:"calculatorResult",children:[" ",e.price," \u20ac"]})]})},P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).maxRooms=[2,3,4,5,6],e.state={rooms:[{},{}],result:[]},e.handleChanges=function(t){for(var n=[],s=0;s<t.target.innerText;s++)n.push({});e.setState({rooms:n})},e.handleCalculate=function(t){t.preventDefault();var n={totalPrice:t.target[0].value,totalSize:t.target[1].value,rooms:[],flatmates:[]},s=7;e.state.rooms.forEach((function(e){var a={name:t.target[s++].value,people:t.target[s++].value,budget:t.target[s++].value};n.flatmates.push(a)})),e.state.rooms.forEach((function(e){var a={name:t.target[s++].value,peopleNumber:t.target[s++].value,size:t.target[s++].value};n.rooms.push(a)})),m.a.post("".concat("https://split-and-share.herokuapp.com","/calculate"),n).then((function(t){e.setState({result:t.data})}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"wrapperCalculator",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"py-5 text-center",children:[Object(s.jsx)("h2",{children:"Divide Your Rent Fairly"}),Object(s.jsx)("p",{className:"lead",children:"When you\u2019re sharing an apartment with roommates, it can be a challenge to decide who takes which bedroom, and at what price. Sit down with your roommates and use the calculator below to find the fair division."})]}),Object(s.jsxs)("form",{onSubmit:this.handleCalculate,children:[Object(s.jsxs)("div",{className:"name",children:[Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsx)("label",{children:"What's your total rent? \u20ac"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsx)("label",{children:" What's the total size of the flat? m\xb2"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsx)("label",{children:"Number of rooms in the flat"}),Object(s.jsx)("div",{id:"roomsNumber",children:this.maxRooms.map((function(t,n){return Object(s.jsx)("button",{type:"button",onClick:e.handleChanges,children:t})}))})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"users",children:this.state.rooms.map((function(e,t){return Object(s.jsx)(L,{},t)}))}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{children:this.state.rooms.map((function(e,t){return Object(s.jsx)(A,{},t)}))}),Object(s.jsxs)("button",{className:"btnB",type:"submit",children:[" ","Calculate!!"," "]})]}),Object(s.jsx)("div",{children:this.state.result.map((function(e,t){return Object(s.jsx)(T,Object(O.a)({className:"result"},e),t)}))})]})})}}]),n}(a.Component),Y=n(34),_=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",userType:"Flat Hunter"},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,a=n.password,c=n.userType;e.props.signup({email:s,password:a,userType:c})},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(Y.a)({},s,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.userType;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{class:"container-fluid",id:"centerContainer",children:Object(s.jsxs)("div",{class:"row main-content bg-success text-center",children:[Object(s.jsxs)("div",{class:"col-md-4 text-center company__info",children:[Object(s.jsx)("span",{class:"company__logo",children:Object(s.jsxs)("h2",{children:[" ",Object(s.jsx)(F.a,{icon:C.i,style:{color:"white"}})]})}),Object(s.jsx)("h4",{class:"company_title",children:"Split and Share"})]}),Object(s.jsx)("div",{class:"col-md-8 col-xs-12 col-sm-12 login_form ",children:Object(s.jsxs)("div",{class:"container-fluid",children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("h2",{children:"Sign Up"})}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Email",value:t,onChange:this.handleChange})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"password",name:"password",className:"form__input",placeholder:"Password",value:n,onChange:this.handleChange})}),Object(s.jsx)("label",{style:{width:"100%"},children:"Are you looking for a flat or are you a flat owner?"}),Object(s.jsx)("div",{className:"select-container",children:Object(s.jsxs)("select",{name:"userType",value:a,className:"btnSelect",onChange:this.handleChange,children:[Object(s.jsx)("option",{value:"Flat Hunter",children:"Flat Hunter"}),Object(s.jsx)("option",{value:"Flat Owner",children:"Flat Owner"})]})}),Object(s.jsx)("input",{type:"submit",className:"btnB",value:"Signup"})]}),this.props.message,Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("p",{style:{color:"black"},children:"Already have an account? "}),Object(s.jsx)(p.b,{to:"/login",children:" Login"})]})]})]})})]})})})}}]),n}(a.Component)),U=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,a=n.password;e.props.login({email:s,password:a})},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(Y.a)({},s,a))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(s.jsx)("div",{className:"login-container",children:Object(s.jsx)("div",{className:"container-fluid",id:"centerContainer",children:Object(s.jsxs)("div",{className:"row main-content bg-success text-center",children:[Object(s.jsxs)("div",{className:"col-md-4 text-center company__info",children:[Object(s.jsx)("span",{className:"company__logo",children:Object(s.jsxs)("h2",{children:[" ",Object(s.jsx)(F.a,{icon:C.i,style:{color:"white"}})]})}),Object(s.jsx)("h4",{className:"company_title",children:"Split and Share"})]}),Object(s.jsx)("div",{className:"col-md-8 col-xs-12 col-sm-12 login_form ",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("h2",{children:"Log In"})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,className:"form-group",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Email",value:t,onChange:this.handleChange})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("input",{type:"password",name:"password",className:"form__input",placeholder:"Password",value:n,onChange:this.handleChange})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("input",{type:"submit",className:"btnB",value:"Login"})})]}),this.props.message]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("p",{style:{color:"black"},children:["Don't have an account? ",Object(s.jsx)(p.b,{to:"/signup",children:" Register here"})]})})]})})]})})})}}]),n}(a.Component)),B=n(73);var D=N((function(e){var t=e.component,n=e.isLoggedin,a=Object(B.a)(e,["component","isLoggedin"]);return Object(s.jsx)(b.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return n?Object(s.jsx)(b.a,{to:"/"}):Object(s.jsx)(t,Object(O.a)({},e))}}))}));var R=N((function(e){var t=e.component,n=e.isLoggedin,a=Object(B.a)(e,["component","isLoggedin"]);return Object(s.jsx)(b.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return n?Object(s.jsx)(t,Object(O.a)({},e)):Object(s.jsx)(b.a,{to:"/login"})}}))})),E=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("h1",{children:["Welcome ",this.props.user.email]})})}}]),n}(a.Component));n(198);var H=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(p.b,{to:e.link,children:Object(s.jsxs)("div",{id:"card",children:[Object(s.jsx)("div",{className:"icon",children:Object(s.jsx)(F.a,{icon:e.icon,className:"material-icons md-36"})}),Object(s.jsx)("p",{className:"title",children:e.title}),Object(s.jsx)("p",{className:"text",children:e.buttonTitle})]})})})};var I=function(e){return Object(s.jsx)("div",{className:"matchFlatmate-container",children:Object(s.jsx)(p.b,{to:"/user/".concat(e._id),style:{textDecoration:"none"},children:Object(s.jsxs)("div",{className:"profile-card-4 text-center",children:[Object(s.jsx)("div",{className:"resizeCard",children:Object(s.jsx)("img",{src:e.image,className:"img img-responsive",alt:"Profile",width:"250",height:"300"})}),Object(s.jsxs)("div",{className:"profile-content",children:[Object(s.jsxs)("div",{className:"profile-name",children:[" ",e.username," "]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Gender"}),Object(s.jsxs)("h4",{children:[e.gender," "]})]})}),Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Age"}),Object(s.jsxs)("h4",{children:[e.age," "]})]})}),Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Budget"}),Object(s.jsxs)("h4",{children:[e.maxBudget," \u20ac "]})]})})]})]})]})})})},q=n(5),W=n.n(q),z=n(15),G=new function e(){var t=this;Object(j.a)(this,e),this.getFlatmate=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/profile/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isFavoriteUser=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/user/isFavorite/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.suggestedUsers=Object(z.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users/suggested/");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.myFavoritesUsers=Object(z.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users/favorites");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.setFavoriteUser=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/idealFlatmate/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.editUser=function(){var e=Object(z.a)(W.a.mark((function e(n,s){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/improveMyProfile/".concat(n),s);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getFlat=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flat/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isFavoriteFlat=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flat/isFavorite/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.myFavoritesFlats=Object(z.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flats/favorites");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.myFlats=Object(z.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/myListings");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.setFavoriteFlat=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/flat/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUpload=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/upload",n);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.saveNewFlat=function(){var e=Object(z.a)(W.a.mark((function e(n,s){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/addMyFlat",n,s);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getFlats=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flats",{params:{filter:n}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getUsers=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users",{params:{filter:n}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updateFlat=function(){var e=Object(z.a)(W.a.mark((function e(n,s){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/myListings/edit/".concat(n),s);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.sendMessage=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/message/send",n);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getMessages=function(){var e=Object(z.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/messages/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.myMessages=Object(z.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/myMessages");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.service=m.a.create({baseURL:"https://split-and-share.herokuapp.com",withCredentials:!0})};var J=function(e){return Object(s.jsx)(p.b,{to:e.link,children:e.buttonTitle&&Object(s.jsx)("button",{className:"btnB",disabled:e.disabled,children:e.buttonTitle})})},Z=n(164);var K=N((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(a.useEffect)((function(){console.log(e),j&&G.suggestedUsers().then((function(e){console.log(e),r(e),u(!1),console.log(e)}))})),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("section",{className:"content",children:[Object(s.jsx)(H,{link:"/user/".concat(e.user._id),title:"Me",icon:C.q,buttonTitle:"Check your profile"}),Object(s.jsx)(H,{title:"Favorite flats",buttonTitle:"Check your flats",link:"/flats/favorites",icon:C.j}),Object(s.jsx)(H,{title:"Favorite people",buttonTitle:"Check your future flatmates",link:"/users/favorites",icon:C.r})]}),Object(s.jsx)("section",{children:Object(s.jsxs)("div",{className:"matchContainer",children:[Object(s.jsx)("div",{className:"match",children:Object(s.jsx)(Z.a,{breakPoints:[{width:500,itemsToShow:1},{width:600,itemsToShow:2},{width:768,itemsToShow:3}],children:c.map((function(e,t){return Object(s.jsx)(I,Object(O.a)({},e),t)}))})}),Object(s.jsx)("div",{className:"match",children:Object(s.jsx)(J,{buttonTitle:"See more profiles!",link:"/flatmates"})})]})})]})}));var Q=N((function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(a.useEffect)((function(){0===Object.keys(c).length&&(G.getFlatmate(e.match.params.id).then((function(e){r(e)})),G.isFavoriteUser(e.match.params.id).then((function(e){u(e)})))})),Object(s.jsx)("div",{className:"detailFlatmate-container",children:Object(s.jsxs)("figure",{class:"snip1515",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("div",{class:"profile-image",children:[" ",Object(s.jsx)("img",{src:c.image,alt:"Profile",width:"250",height:"300"})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("figcaption",{children:[Object(s.jsxs)("h3",{children:[" Hi, I am ",c.username," "]}),Object(s.jsxs)("h4",{children:[c.age," years old"]}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.t})," ",Object(s.jsx)(F.a,{icon:C.p}),": ",c.gender]}),Object(s.jsxs)("li",{children:["My Budget: ",c.maxBudget," \u20ac"]}),Object(s.jsx)("br",{}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.h}),": ",c.isStudying?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.l}),":  ",c.hasPet?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.o}),":  ",c.isSmoking?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.e}),":",c.isWorking?"Yes":"No"]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[" ",Object(s.jsx)("b",{children:"I am looking for:"})]}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["Max number of flatmates: ",c.searchingFor?c.searchingFor.Flatmates:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.t})," ",Object(s.jsx)(F.a,{icon:C.p}),": ",c.searchingFor?c.searchingFor.gender:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.k}),": ",c.searchingFor?c.searchingFor.location:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.l})," : ",c.searchingFor?c.searchingFor.pets:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.o})," : ",c.searchingFor?c.searchingFor.smoke:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(F.a,{icon:C.d}),": Between ",c.searchingFor?c.searchingFor.minAge:""," and ",c.searchingFor?c.searchingFor.maxAge:""]})]})]}),e.user._id===e.match.params.id?Object(s.jsx)(J,{buttonTitle:"Edit my profile",link:"/improveMyProfile"}):Object(s.jsx)("button",{className:"btnB",onClick:function(){G.setFavoriteUser(e.match.params.id).then((function(){u(!j)}))},children:j?"remove from favorite":"add to favorite"}),Object(s.jsx)(J,{buttonTitle:"Messages",link:"/messages/".concat(e.match.params.id)})]})})]})})}));var V=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("section",{className:"content",style:{height:"600px",justifyContent:"space-around"},children:[Object(s.jsx)(H,{title:"Add Flat",buttonTitle:"Add a new flat",link:"/addMyFlat",icon:C.u}),Object(s.jsx)(H,{title:"My flats",buttonTitle:"Check my list of flats",link:"/myListing",icon:C.j})]})})};var X=N((function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(a.useEffect)((function(){0===Object.keys(c).length&&(G.getFlat(e.match.params.id).then((function(e){r(e)})),G.isFavoriteFlat(e.match.params.id).then((function(e){u(e)})))})),Object(s.jsx)("div",{className:"flatDetailCard",children:Object(s.jsx)("div",{className:"card-group",id:"fixFlatDetailCard",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{className:"card-img-top",src:c.flatImages?c.flatImages[0]:"",alt:"Card image cap"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:c.title}),Object(s.jsx)("p",{className:"card-text",children:c.description}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["Price: ",c.price," \u20ac"]}),Object(s.jsxs)("li",{children:["Contact:",c.age]}),Object(s.jsxs)("li",{children:["Rooms:",c.rooms]}),Object(s.jsxs)("li",{children:["Bathrooms:",c.restrooms]}),Object(s.jsxs)("li",{children:["Neighborhood:",c.neighborhood]}),Object(s.jsxs)("li",{children:["Airconditioner:",c.airconditioner?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Balcony:",c.balcony?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Elevator:",c.elevator?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Parking:",c.parking?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Address:",c.address?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Square Meters:",c.squareMeters?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Furnished:",c.furnished?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Terrace:",c.terrace?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Swimming Pool:",c.swimmingPool?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Central Heating:",c.centralHeating?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Store Room:",c.storeRoom?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Builtin Wardrobes:",c.builtinWardrobes?"Yes":"No"]}),Object(s.jsxs)("li",{children:["Central Heating:",c.centralHeating?"Yes":"No"]})]})]}),Object(s.jsx)("div",{class:"card-footer",id:"flatDetailFooter",children:c.flatOwner===e.user._id?Object(s.jsx)(J,{buttonTitle:"Edit Flat",link:"/flat/edit/".concat(c._id)}):Object(s.jsx)("button",{className:"btnB",onClick:function(){G.setFavoriteFlat(e.match.params.id).then((function(){u(!j)}))},children:j?"remove from favorite":"add to favorite"})})]})})})})),$=(n(200),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={flatmates:[]},e.handleSubmit=function(t){t.preventDefault();var n={location:t.target[0].value,gender:t.target[1].value,maxBudget:t.target[2].value,hasPet:"indifferent"===t.target[3].value?"":t.target[3].value,isSmoking:"indifferent"===t.target[4].value?"":t.target[4].value,isWorking:"indifferent"===t.target[5].value?"":t.target[5].value,isStudying:"indifferent"===t.target[6].value?"":t.target[6].value};G.getUsers(n).then((function(t){e.setState({flatmates:t})}))},e.componentDidMount=function(){0===e.state.flatmates.length&&G.getUsers({limit:20}).then((function(t){e.setState({flatmates:t})}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"flatmatesList",children:[Object(s.jsx)("div",{className:"stickTheForm",children:Object(s.jsxs)("form",{className:"windowFit",onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Zone"}),Object(s.jsx)("input",{type:"text"}),Object(s.jsx)("label",{children:"Gender"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"other",children:"Other"})]}),Object(s.jsx)("label",{children:"Maximum Budget"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Pets"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Smoke"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Working"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Studying"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("button",{className:"btnB",children:"Search"})]})}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"favoriteUsers-container",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:this.state.flatmates.map((function(e,t){return Object(s.jsx)(I,Object(O.a)({},e),t)}))})})})})})]})})}}]),n}(a.Component)),ee=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={title:"",description:"",flatImages:"",price:0,contact:"",rooms:0,restrooms:0,neighborhood:"",airconditioner:!1,elevator:!1,balcony:!1,parking:!1,address:"",centralHeating:!1,squareMeters:0,furnished:!1,terrace:!1,swimmingPool:!1,storeRoom:!1,builtinWardrobes:!1,redirect:"",id:e.props.match.params.id,disabled:!1},e.componentDidMount=function(){e.id&&G.getFlat(e.id).then((function(t){e.setState(Object(O.a)({},t))}))},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(Y.a)({},s,a))},e.handleFileUpload=function(){var t=Object(z.a)(W.a.mark((function t(n){var s,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({disabled:!0}),(s=new FormData).append("imageUrl",n.target.files[0]),t.prev=3,t.next=6,G.handleUpload(s);case 6:a=t.sent,e.setState({flatImages:a.secure_url,disabled:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(z.a)(W.a.mark((function t(n){var s,a;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!e.id){t.next=8;break}return s=e.id,t.next=6,G.updateFlat(e.id,e.state);case 6:t.next=12;break;case 8:return t.next=10,G.saveNewFlat(e.state);case 10:a=t.sent,s=a._id;case 12:e.setState({redirect:"/flat/".concat(s)}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("Error while adding the flat: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"flatmatesList",id:"centerAddFlat",children:[this.state.redirect&&Object(s.jsx)(b.a,{to:this.state.redirect}),Object(s.jsx)("br",{}),Object(s.jsxs)("form",{id:"addFlatForm",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(s.jsx)("label",{children:"Title"}),Object(s.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Description"}),Object(s.jsx)("textarea",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Price \u20ac "}),Object(s.jsx)("input",{type:"number",name:"price",value:this.state.price,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Contact"}),Object(s.jsx)("input",{type:"text",name:"contact",value:this.state.contact,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Rooms"}),Object(s.jsx)("input",{type:"number",name:"rooms",value:this.state.rooms,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Bathrooms"}),Object(s.jsx)("input",{type:"number",name:"restrooms",value:this.state.restrooms,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Neighborhood"}),Object(s.jsx)("input",{type:"text",name:"neighborhood",value:this.state.neighborhood,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Airconditioner"}),Object(s.jsxs)("select",{name:"airconditioner",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:!1,children:"No"}),Object(s.jsx)("option",{value:!0,children:"Yes"})]}),Object(s.jsx)("label",{children:"Address"}),Object(s.jsx)("input",{type:"text",name:"address",value:this.state.address,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Square Meters:"}),Object(s.jsx)("input",{type:"text",name:"squareMeters",value:this.state.squareMeters,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Upload photo:"}),Object(s.jsx)("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),Object(s.jsx)("button",{type:"submit",className:"btnB",disabled:this.state.disabled,children:"Save"})]})]})})}}]),n}(a.Component));var te=function(e){return Object(s.jsx)("div",{className:"flatListLine",children:Object(s.jsx)(p.b,{to:"/flat/".concat(e._id),children:Object(s.jsxs)("div",{className:"card",id:"flatListCard",children:[Object(s.jsx)("img",{className:"card-img-top",id:"sizeChange",src:e.flatImages[0],alt:"Card image cap",width:"100",height:"100"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"card-title",id:"flatListTitle",children:[e.title," "]}),Object(s.jsxs)("p",{className:"card-text",id:"flatListLetters",children:[e.price," \u20ac"]}),Object(s.jsxs)("p",{className:"card-text",id:"flatListlet",children:[Object(s.jsx)(F.a,{icon:C.k,style:{marginRight:"5px"}})," ",e.neighborhood]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"flatChar",children:[Object(s.jsxs)("p",{className:"card-text",children:[Object(s.jsx)(F.a,{icon:C.c,style:{marginRight:"5px"}}),e.rooms," rooms"]}),Object(s.jsxs)("p",{className:"card-text",children:[Object(s.jsx)(F.a,{icon:C.b,style:{marginRight:"5px"}}),e.restrooms," bathrooms"]})]})]})]})})})},ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={flats:[]},e.handleSubmit=function(t){t.preventDefault();var n={minPrice:t.target[0].value,maxPrice:t.target[1].value,rooms:t.target[2].value,restrooms:t.target[3].value,neighborhood:t.target[4].value,airconditioner:"indifferent"===t.target[5].value?"":t.target[5].value,elevator:"indifferent"===t.target[6].value?"":t.target[6].value,balcony:"indifferent"===t.target[7].value?"":t.target[7].value,squareMeters:t.target[8].value,furnished:"indifferent"===t.target[9].value?"":t.target[9].value};G.getFlats(n).then((function(t){e.setState({flats:t})}))},e.componentDidMount=function(){0===e.state.flats.length&&G.getFlats({limit:20}).then((function(t){e.setState({flats:t})}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"flatmatesList",children:Object(s.jsxs)("div",{className:"container-flatlist",children:[Object(s.jsx)("div",{className:"windowFit",children:Object(s.jsxs)("form",{id:"flatFilter",onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Minimun Price"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Maximum Price"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Number of rooms"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Number of bathrooms"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Neighborhood"}),Object(s.jsx)("input",{type:"text"}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"Air Conditioner"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Elevator"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Balcony"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Minimum square meters"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Furnished"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("button",{className:"btnB",children:"Search"})]})}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{class:"card-deck",children:this.state.flats.map((function(e,t){return Object(s.jsx)(te,Object(O.a)({},e),t)}))})})]})})})}}]),n}(a.Component);var se=N((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){0===c.length&&G.myFavoritesUsers().then((function(e){r(e)}))})),Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"favoriteUsers-container",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(s.jsx)(I,Object(O.a)({},e),t)}))})})})})}));var ae=N((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){0===c.length&&G.myFavoritesFlats().then((function(e){r(e)}))})),Object(s.jsx)("div",{className:"favoriteFlatsGrid",children:c.map((function(e,t){return Object(s.jsx)(te,Object(O.a)({},e),t)}))})})),ce=N(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){G.getFlatmate(s.props.user._id).then((function(e){s.setState({user:e})}))},s.handleFileUpload=function(e){s.setState({disabled:!0});var t=new FormData;t.append("imageUrl",e.target.files[0]),G.handleUpload(t).then((function(e){s.setState({disabled:!1}),s.setState({user:{image:e.secure_url}})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},s.handleChange=function(e){var t=e.target,n=t.name,a=t.value;s.setState({user:Object(O.a)(Object(O.a)(Object(O.a)({},s.state.user),s.state.user.searchingFor),{},Object(Y.a)({},n,a))})},s.handleFormSubmit=function(e){e.preventDefault(),G.editUser(s.props.user._id,s.state.user).then((function(e){console.log(e)}))},s.state={user:{},disabled:!1},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"flatmatesList",id:"profileCntr",children:Object(s.jsx)("form",{id:"formEditProfile",onSubmit:function(t){return e.handleFormSubmit(t)},children:Object(s.jsxs)("div",{className:"editProfContainer",children:[Object(s.jsxs)("div",{className:"firstCntr",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"polaroid",children:Object(s.jsx)("a",{href:"#",children:Object(s.jsx)("img",{height:"250",src:this.state.user.image,alt:"ProfilePhoto",title:"ProfilePhoto"})})}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Change profile picture:"})," "]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"file",name:"image",onChange:this.handleFileUpload})}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Name:"})," "]}),Object(s.jsx)("input",{type:"text",name:"username",value:this.state.user.username,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Gender"})," "]}),Object(s.jsxs)("select",{name:"gender",value:this.state.user.gender,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"other",children:"Other"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Age"})," "]}),Object(s.jsx)("input",{type:"number",name:"age",value:this.state.user.age,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Max budget"})," "]}),Object(s.jsx)("input",{type:"number",name:"maxBudget",value:this.state.user.maxBudget,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Pets"})," "]}),Object(s.jsxs)("select",{name:"hasPet",value:this.state.user.hasPet,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you smoking?"})," "]}),Object(s.jsxs)("select",{name:"isSmoking",value:this.state.user.isSmoking,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you studying?"})," "]}),Object(s.jsxs)("select",{name:"isStudying",value:this.state.user.isStudying,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you working?"})," "]}),Object(s.jsxs)("select",{name:"isWorking",value:this.state.user.isWorking,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]})]}),Object(s.jsxs)("div",{className:"secondCntr",children:[Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("h4",{children:"I am looking for"})," "]}),Object(s.jsx)("br",{}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Gender"})," "]}),Object(s.jsxs)("select",{name:"gender",value:this.state.user.searchingFor?this.state.user.searchingFor.gender:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Pets"})," "]}),Object(s.jsxs)("select",{name:"hasPet",value:this.state.user.searchingFor?this.state.user.searchingFor.hasPet:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Smoke"})," "]}),Object(s.jsxs)("select",{name:"smoke",value:this.state.user.searchingFor?this.state.user.searchingFor.smoke:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Age between"})," "]}),Object(s.jsx)("input",{type:"number",name:"minAge",value:this.state.user.searchingFor?this.state.user.searchingFor.minAge:"",onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"and"})," "]}),Object(s.jsx)("input",{type:"number",name:"maxAge",value:this.state.user.searchingFor?this.state.user.searchingFor.maxAge:"",onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("button",{type:"submit",className:"btnB",disabled:this.state.disabled,children:["Save your profile"," "]})]})]})})})})}}]),n}(a.Component)),re=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={listOfFlats:[]},e.fetchAllFlats=function(){G.myFlats().then((function(t){var n=t;e.setState({listOfFlats:n})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchAllFlats()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"My Listings"}),Object(s.jsx)("div",{children:this.state.listOfFlats.map((function(e,t){return Object(s.jsx)(te,Object(O.a)({},e),t)}))})]})}}]),n}(a.Component);var ie=N((function(e){var t="";return t=e.user?"Flat Hunter"===e.user.userType?"/dashboardHunter":"/dashboardOwner":"/calculator",Object(s.jsx)(b.a,{to:t})}));var le=N((function(e){return Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),G.sendMessage({receiver:e.receiver,text:t.target[0].value}).then((function(e){t.target[0].value=""}))},children:[Object(s.jsx)("input",{type:"text"}),Object(s.jsx)("button",{children:"Send"})]})}));n(492);var oe=N((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){G.getMessages(e.match.params.id).then((function(e){console.log(e),r(e)}))})),Object(s.jsx)("div",{class:"page-content page-container",id:"page-content",children:Object(s.jsx)("div",{class:"padding",children:Object(s.jsx)("div",{class:"row container d-flex justify-content-center",children:Object(s.jsx)("div",{class:"col-md-4",children:Object(s.jsx)("div",{class:"box box-warning direct-chat direct-chat-warning",children:Object(s.jsxs)("div",{class:"box-body",children:[c.map((function(t,n){return Object(s.jsxs)("div",{className:t.from===e.match.params.id?"direct-chat-msg right":"direct-chat-msg",children:[Object(s.jsx)(F.a,{class:"direct-chat-img",icon:C.q}),Object(s.jsxs)("div",{class:"direct-chat-text",children:[" ",t.text," "]})]})})),Object(s.jsx)(le,{receiver:e.match.params.id})]})})})})})})}));var je=N((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){0===c.length&&G.myMessages().then((function(e){console.log(e),r(e)}))})),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Your messages:"}),Object(s.jsx)("ul",{className:"messageContainer",children:c.map((function(e,t){return Object(s.jsx)("li",{className:"singleMessage",children:Object(s.jsx)(p.b,{to:"/messages/".concat(e._id),children:Object(s.jsx)("p",{children:""!==e.username?e.username:e.email})})})}))})]})}));var ue=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],r=n[1],i={display:"block",top:"10px",left:c?"10px":"300px"};return Object(s.jsx)(w,{children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)(M,{isActive:c}),Object(s.jsxs)("div",{className:"page-content p-5 ".concat(c?"active":""),id:"content",children:[Object(s.jsxs)("button",{id:"sidebarCollapse",type:"button",className:"btn btn-light bg-white rounded-pill shadow-sm px-4 mb-4",style:i,onClick:function(){r(!c)},children:[Object(s.jsx)(F.a,{icon:C.a}),Object(s.jsx)("small",{className:"text-uppercase font-weight-bold",children:"Menu"})]}),Object(s.jsx)("img",{src:o,alt:"logo",className:"logo"}),Object(s.jsxs)(b.d,{children:[Object(s.jsx)(b.b,{exact:!0,path:"/calculator",component:P}),Object(s.jsx)(D,{path:"/signup",component:_}),Object(s.jsx)(D,{path:"/login",component:U}),Object(s.jsx)(R,{path:"/private",component:E}),Object(s.jsx)(b.b,{exact:!0,path:"/",component:ie}),Object(s.jsx)(R,{path:"/dashboardHunter",component:K}),Object(s.jsx)(R,{path:"/dashboardOwner",component:V}),Object(s.jsx)(R,{exact:!0,path:"/flat/:id",component:X}),Object(s.jsx)(R,{path:"/addMyFlat",component:ee}),Object(s.jsx)(R,{exact:!0,path:"/flat/edit/:id",component:ee}),Object(s.jsx)(R,{exact:!0,path:"/flats",component:ne}),Object(s.jsx)(R,{exact:!0,path:"/myListings",component:re}),Object(s.jsx)(b.b,{exact:!0,path:"/flats/favorites",component:ae}),Object(s.jsx)(b.b,{exact:!0,path:"/users/favorites",component:se}),Object(s.jsx)(b.b,{exact:!0,path:"/user/:id",component:Q}),Object(s.jsx)(R,{path:"/improveMyProfile",component:ce}),Object(s.jsx)(b.b,{exact:!0,path:"/flatmates",component:$}),Object(s.jsx)(R,{exact:!0,path:"/messages/:id",component:oe}),Object(s.jsx)(R,{exac:!0,path:"/myMessages",component:je})]})]})]})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,494)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};i.a.render(Object(s.jsx)(p.a,{children:Object(s.jsx)(ue,{})}),document.getElementById("root")),de()}},[[493,1,2]]]);
//# sourceMappingURL=main.fd0391ee.chunk.js.map