(this["webpackJsonpsplitandshare-frontend"]=this["webpackJsonpsplitandshare-frontend"]||[]).push([[0],{160:function(e,t,n){},161:function(e,t,n){},178:function(e,t,n){},189:function(e,t,n){},484:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(2),a=n.n(r),c=n(35),i=n.n(c),l=(n(160),n(19)),o=(n(161),n(8)),j=n(9),u=n(13),h=n(12),d=n(11),b=n(6),p=n(50),O=n.n(p),x=new(function(){function e(){Object(o.a)(this,e),this.auth=O.a.create({baseURL:"https://split-and-share.herokuapp.com",withCredentials:!0})}return Object(j.a)(e,[{key:"signup",value:function(e){var t=e.email,n=e.password,s=e.userType;return this.auth.post("/auth/signup",{email:t,password:n,userType:s}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),m=a.a.createContext(),f=m.Consumer,v=m.Provider,g=function(e){return function(t){Object(u.a)(r,t);var n=Object(h.a)(r);function r(){return Object(o.a)(this,r),n.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){var t=this;return Object(s.jsx)(f,{children:function(n){var r=n.login,a=n.signup,c=n.user,i=n.logout,l=n.isLoggedin,o=n.message;return Object(s.jsx)(e,Object(b.a)({login:r,signup:a,user:c,logout:i,isLoggedin:l,message:o},t.props))}})}}]),r}(a.a.Component)},y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0,message:""},e.signup=function(t){var n=t.email,s=t.password,r=t.userType;x.signup({email:n,password:s,userType:r}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.response;e.setState({message:n.data.message})}))},e.login=function(t){var n=t.email,s=t.password;x.login({email:n,password:s}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var n=t.response;console.log(n),e.setState({message:n.data.message})}))},e.logout=function(){x.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,r=e.user,a=e.message,c=this.login,i=this.logout,l=this.signup;return t?Object(s.jsx)("div",{children:"Loading"}):Object(s.jsx)(v,{value:{isLoggedin:n,user:r,login:c,logout:i,signup:l,message:a},children:this.props.children})}}]),n}(a.a.Component),w=(n.p,n(178),n(10)),F=n(5);function k(e){return Object(s.jsx)("li",{class:"nav-item",children:Object(s.jsxs)(d.b,{to:e.link,className:"nav-link text-dark font-italic bg-light",children:[Object(s.jsx)(w.a,{icon:e.icon,style:{marginRight:"10px"}}),e.title]})})}function C(e){return Object(s.jsx)("p",{className:"text-gray font-weight-bold text-uppercase px-3 small pb-4 mb-0",children:e.title})}var N=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={activeMenu:!1},e.toggleMenu=function(){e.setState({activeMenu:!e.state.activeMenu})},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"vertical-nav bg-white ".concat(this.props.isActive?"active":""),id:"sidebar",children:[Object(s.jsx)("div",{class:"py-4 px-3 mb-4 bg-light",children:Object(s.jsx)("div",{class:"media d-flex align-items-center",children:Object(s.jsxs)("div",{class:"media-body",children:[this.props.user&&Object(s.jsx)("img",{src:this.props.user.image,alt:"...",width:"65",class:"mr-3 rounded-circle img-thumbnail shadow-sm"}),this.props.user&&""!==this.props.user.username&&Object(s.jsx)("h4",{class:"m-0",children:"Hola, ".concat(this.props.user.username)})]})})}),Object(s.jsx)(C,{title:"MAIN"}),Object(s.jsxs)("ul",{class:"nav flex-column bg-white mb-0",children:[Object(s.jsx)(k,{title:"Home",link:"/",icon:F.f}),this.props.user&&Object(s.jsx)(k,{title:"Profile",link:"/user/".concat(this.props.user._id),icon:F.n}),Object(s.jsx)(k,{title:"Calculator",link:"/calculator",icon:F.d}),this.props.user&&Object(s.jsxs)("div",{onClick:this.props.logout,className:"nav-link text-dark font-italic bg-light link",children:[Object(s.jsx)(w.a,{icon:F.k,style:{marginRight:"10px"}}),"Log out"]}),!this.props.user&&Object(s.jsx)(k,{title:"Log in",link:"/login",icon:F.j}),!this.props.user&&Object(s.jsx)(k,{title:"Sign up",link:"/signup",icon:F.p})]}),Object(s.jsx)(C,{title:"SEARCH"}),Object(s.jsxs)("ul",{class:"nav flex-column bg-white mb-0",children:[Object(s.jsx)(k,{title:"Find Flatmates",link:"/flatmates",icon:F.o}),Object(s.jsx)(k,{title:"Find Flats",link:"/flats",icon:F.g})]})]})}}]),n}(r.Component));n(188),n(73);var S=function(){return Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Flatmate Name"}),Object(s.jsx)("input",{type:"text"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" N\xba of people by room"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Ideal Budget"}),Object(s.jsx)("input",{type:"number"})]})]})};var M=function(e){return Object(s.jsxs)("div",{className:"address-info",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Room Name"}),Object(s.jsx)("input",{type:"text"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Type of room"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"1",children:"Single"}),Object(s.jsx)("option",{value:"2",children:"Double"}),Object(s.jsx)("option",{value:"3",children:"Triple"})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" Room size"}),Object(s.jsx)("input",{type:"number"})]})]})};var A=function(e){return Object(s.jsxs)("div",{className:"result",children:[Object(s.jsxs)("span",{children:[" Flatmate: ",e.flatmateName]}),Object(s.jsxs)("span",{children:["Habitaci\xf3n: ",e.roomName]}),Object(s.jsxs)("span",{children:[" Fairly rent: ",e.price]})]})},P=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).maxRooms=[2,3,4,5,6],e.state={rooms:[{},{}],result:[]},e.handleChanges=function(t){for(var n=[],s=0;s<t.target.innerText;s++)n.push({});e.setState({rooms:n})},e.handleCalculate=function(t){t.preventDefault();var n={totalPrice:t.target[0].value,totalSize:t.target[1].value,rooms:[],flatmates:[]},s=7;e.state.rooms.forEach((function(e){var r={name:t.target[s++].value,people:t.target[s++].value,budget:t.target[s++].value};n.flatmates.push(r)})),e.state.rooms.forEach((function(e){var r={name:t.target[s++].value,peopleNumber:t.target[s++].value,size:t.target[s++].value};n.rooms.push(r)})),O.a.post("".concat("https://split-and-share.herokuapp.com","/calculate"),n).then((function(t){e.setState({result:t.data})}))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"wrapperCalculator",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"py-5 text-center",children:[Object(s.jsx)("h2",{children:"Divide Your Rent Fairly"}),Object(s.jsx)("p",{className:"lead",children:"When you\u2019re sharing an apartment with roommates, it can be a challenge to decide who takes which bedroom, and at what price. Sit down with your roommates and use the calculator below to find the fair division."})]}),Object(s.jsxs)("form",{onSubmit:this.handleCalculate,children:[Object(s.jsxs)("div",{className:"name",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"What's your total rent? \u20ac"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:" What's the total size of the flat? m\xb2"}),Object(s.jsx)("input",{type:"number"})]}),Object(s.jsx)("label",{children:"Number of rooms in the flat"}),Object(s.jsx)("div",{id:"roomsNumber",children:this.maxRooms.map((function(t,n){return Object(s.jsx)("button",{type:"button",onClick:e.handleChanges,children:t})}))})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"users",children:this.state.rooms.map((function(e,t){return Object(s.jsx)(S,{},t)}))}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{children:this.state.rooms.map((function(e,t){return Object(s.jsx)(M,{},t)}))}),Object(s.jsx)("button",{className:"btns",type:"submit",children:" Calculate!! "})]}),Object(s.jsx)("div",{children:this.state.result.map((function(e,t){return Object(s.jsx)(A,Object(b.a)({className:"result"},e),t)}))})]})})}}]),n}(r.Component),L=n(34),_=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",userType:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,r=n.password,a=n.userType;console.log("Signup -> form submit",{email:s,password:r,userType:a}),e.props.signup({email:s,password:r,userType:a})},e.handleChange=function(t){var n=t.target,s=n.name,r=n.value;e.setState(Object(L.a)({},s,r))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=e.userType;return console.log(this.props),Object(s.jsx)("div",{children:Object(s.jsx)("div",{class:"container-fluid",children:Object(s.jsxs)("div",{class:"row main-content bg-success text-center",children:[Object(s.jsxs)("div",{class:"col-md-4 text-center company__info",children:[Object(s.jsx)("span",{class:"company__logo",children:Object(s.jsxs)("h2",{children:[" ",Object(s.jsx)(w.a,{icon:F.f})]})}),Object(s.jsx)("h4",{class:"company_title",children:"Split and Share"})]}),Object(s.jsx)("div",{class:"col-md-8 col-xs-12 col-sm-12 login_form ",children:Object(s.jsxs)("div",{class:"container-fluid",children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("h2",{children:"Sign Up"})}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Email",value:t,onChange:this.handleChange})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"password",name:"password",className:"form__input",placeholder:"Password",value:n,onChange:this.handleChange})}),Object(s.jsx)("label",{children:"Are you looking for a flat or are you a flat owner?"}),Object(s.jsx)("div",{className:"select-container",children:Object(s.jsxs)("select",{name:"userType",value:r,className:"btnSelect",onChange:this.handleChange,children:[Object(s.jsx)("option",{value:"Flat Hunter",children:"Flat Hunter"}),Object(s.jsx)("option",{value:"Flat Owner",children:"Flat Owner"})]})}),Object(s.jsx)("input",{type:"submit",className:"btnB",value:"Signup"})]}),this.props.message,Object(s.jsxs)("div",{class:"row",children:[Object(s.jsx)("p",{children:"Already have an account? "}),Object(s.jsx)(d.b,{to:"/login",children:" Login"})]})]})]})})]})})})}}]),n}(r.Component)),T=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,s=n.email,r=n.password;console.log("Login -> form submit",{email:s,password:r}),e.props.login({email:s,password:r})},e.handleChange=function(t){var n=t.target,s=n.name,r=n.value;e.setState(Object(L.a)({},s,r))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return console.log(this.props),Object(s.jsx)("div",{children:Object(s.jsx)("div",{class:"container-fluid",children:Object(s.jsxs)("div",{class:"row main-content bg-success text-center",children:[Object(s.jsxs)("div",{class:"col-md-4 text-center company__info",children:[Object(s.jsx)("span",{class:"company__logo",children:Object(s.jsxs)("h2",{children:[" ",Object(s.jsx)(w.a,{icon:F.f})]})}),Object(s.jsx)("h4",{class:"company_title",children:"Split and Share"})]}),Object(s.jsx)("div",{class:"col-md-8 col-xs-12 col-sm-12 login_form ",children:Object(s.jsxs)("div",{class:"container-fluid",children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("h2",{children:"Log In"})}),Object(s.jsxs)("div",{class:"row",children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,class:"form-group",children:[Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"email",name:"email",className:"form__input",placeholder:"Email",value:t,onChange:this.handleChange})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"password",name:"password",className:"form__input",placeholder:"Password",value:n,onChange:this.handleChange})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("input",{type:"submit",className:"btnB",value:"Login"})})]}),this.props.message]}),Object(s.jsx)("div",{class:"row",children:Object(s.jsxs)("p",{children:["Don't have an account? ",Object(s.jsx)(d.b,{to:"/signup",children:" Register here"})]})})]})})]})})})}}]),n}(r.Component)),U=n(14),B=n(69);var D=g((function(e){var t=e.component,n=e.isLoggedin,r=Object(B.a)(e,["component","isLoggedin"]);return Object(s.jsx)(U.b,Object(b.a)(Object(b.a)({},r),{},{render:function(e){return n?Object(s.jsx)(U.a,{to:"/private"}):Object(s.jsx)(t,Object(b.a)({},e))}}))}));var Y=g((function(e){var t=e.component,n=e.isLoggedin,r=Object(B.a)(e,["component","isLoggedin"]);return Object(s.jsx)(U.b,Object(b.a)(Object(b.a)({},r),{},{render:function(e){return n?Object(s.jsx)(t,Object(b.a)({},e)):Object(s.jsx)(U.a,{to:"/login"})}}))})),E=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("h1",{children:["Welcome ",this.props.user.email]})})}}]),n}(r.Component));n(189);var I=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(d.b,{to:e.link,children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{class:"icon",children:Object(s.jsx)(w.a,{icon:e.icon,className:"material-icons md-36"})}),Object(s.jsx)("p",{class:"title",children:e.title}),Object(s.jsx)("p",{class:"text",children:e.buttonTitle})]})})})};var R=function(e){return Object(s.jsx)("div",{className:"matchFlatmate-container",children:Object(s.jsx)(d.b,{to:"/user/".concat(e._id),style:{textDecoration:"none"},children:Object(s.jsxs)("div",{className:"profile-card-4 text-center",children:[Object(s.jsx)("div",{className:"resizeCard",children:Object(s.jsx)("img",{src:e.image,className:"img img-responsive",alt:"Profile",width:"250",height:"300"})}),Object(s.jsxs)("div",{className:"profile-content",children:[Object(s.jsxs)("div",{className:"profile-name",children:[" ",e.username," "]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Gender"}),Object(s.jsxs)("h4",{children:[e.gender," "]})]})}),Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Age"}),Object(s.jsxs)("h4",{children:[e.age," "]})]})}),Object(s.jsx)("div",{className:"col-xs-4",children:Object(s.jsxs)("div",{className:"profile-overview",children:[Object(s.jsx)("p",{children:"Budget"}),Object(s.jsxs)("h4",{children:[e.maxBudget," \u20ac "]})]})})]})]})]})})})},H=n(3),W=n.n(H),q=n(15),z=new function e(){var t=this;Object(o.a)(this,e),this.getFlatmate=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/profile/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isFavoriteUser=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/user/isFavorite/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.suggestedUsers=Object(q.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users/suggested/");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.myFavoritesUsers=Object(q.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users/favorites");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.setFavoriteUser=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/idealFlatmate/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.editUser=function(){var e=Object(q.a)(W.a.mark((function e(n,s){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/improveMyProfile/".concat(n),s);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getFlat=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flat/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.isFavoriteFlat=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flat/isFavorite/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.myFavoritesFlats=Object(q.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flats/favorites");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.myFlats=Object(q.a)(W.a.mark((function e(){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/myListings");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.setFavoriteFlat=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/flat/".concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUpload=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/upload",n);case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.saveNewFlat=function(){var e=Object(q.a)(W.a.mark((function e(n,s){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/addMyFlat",n,s);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getFlats=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/flats",{params:{filter:n}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getUsers=function(){var e=Object(q.a)(W.a.mark((function e(n){var s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/users",{params:{filter:n}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updateFlat=function(){var e=Object(q.a)(W.a.mark((function e(n,s){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/myListings/edit/".concat(n),s);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.service=O.a.create({baseURL:"https://split-and-share.herokuapp.com",withCredentials:!0})};var G=g((function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!0),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(r.useEffect)((function(){console.log(e),j&&z.suggestedUsers().then((function(e){console.log(e),c(e),u(!1),console.log(e)}))})),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("section",{className:"content",children:[Object(s.jsx)(I,{link:"/user/".concat(e.user._id),title:"Me",icon:F.n,buttonTitle:"Check your profile"}),Object(s.jsx)(I,{title:"Favorite flats",buttonTitle:"Check your flats",link:"/flats/favorites",icon:F.g}),Object(s.jsx)(I,{title:"Favorite people",buttonTitle:"Check your future flatmates",link:"/users/favorites",icon:F.o})]}),Object(s.jsxs)("section",{children:[Object(s.jsx)("div",{className:"match",children:a.map((function(e,t){return Object(s.jsx)(R,Object(b.a)({},e),t)}))}),Object(s.jsx)(d.b,{to:"/flatmates",children:Object(s.jsx)("button",{children:"See more profiles!"})})]})]})}));var J=function(e){return Object(s.jsx)(d.b,{to:e.link,children:e.buttonTitle&&Object(s.jsx)("button",{className:"btnB",children:e.buttonTitle})})};var Z=g((function(e){var t=Object(r.useState)({}),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(r.useEffect)((function(){0===Object.keys(a).length&&(z.getFlatmate(e.match.params.id).then((function(e){c(e)})),z.isFavoriteUser(e.match.params.id).then((function(e){u(e)})))})),Object(s.jsx)("div",{className:"detailFlatmate-container",children:Object(s.jsxs)("figure",{class:"snip1515",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("div",{class:"profile-image",children:[" ",Object(s.jsx)("img",{src:a.image,alt:"Profile",width:"250",height:"300"})]})}),Object(s.jsx)("div",{children:Object(s.jsxs)("figcaption",{children:[Object(s.jsxs)("h3",{children:[" Hi, I am ",a.username," "]}),Object(s.jsxs)("h4",{children:[a.age," years old"]}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.q})," ",Object(s.jsx)(w.a,{icon:F.m}),": ",a.gender]}),Object(s.jsxs)("li",{children:["My Budget: ",a.maxBudget," \u20ac"]}),Object(s.jsx)("br",{}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.e}),": ",a.isStudying?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.i}),":  ",a.hasPet?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.l}),":  ",a.isSmoking?"Yes":"No"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.c}),":",a.isWorking?"Yes":"No"]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[" ",Object(s.jsx)("b",{children:"I am looking for:"})]}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["Max number of flatmates: ",a.searchingFor?a.searchingFor.Flatmates:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.q})," ",Object(s.jsx)(w.a,{icon:F.m}),": ",a.searchingFor?a.searchingFor.gender:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.h}),": ",a.searchingFor?a.searchingFor.location:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.i})," : ",a.searchingFor?a.searchingFor.pets:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.l})," : ",a.searchingFor?a.searchingFor.smoke:""]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{icon:F.b}),": Between ",a.searchingFor?a.searchingFor.minAge:""," and ",a.searchingFor?a.searchingFor.maxAge:""]})]})]}),e.user._id===e.match.params.id?Object(s.jsx)(J,{buttonTitle:"Edit my profile",link:"/improveMyProfile"}):Object(s.jsx)("button",{className:"btnB",onClick:function(){z.setFavoriteUser(e.match.params.id).then((function(){u(!j)}))},children:j?"remove from favorite":"add to favorite"})]})})]})})}));var K=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("section",{children:[Object(s.jsx)(I,{link:"/",image:""}),Object(s.jsx)(I,{title:"",buttonTitle:"Add my flat",link:"/addMyFlat",image:""}),Object(s.jsx)(I,{title:"",buttonTitle:"Check my listings",link:"/",image:""})]})})};var Q=g((function(e){var t=Object(r.useState)({}),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),j=o[0],u=o[1];return Object(r.useEffect)((function(){0===Object.keys(a).length&&(z.getFlat(e.match.params.id).then((function(e){c(e)})),z.isFavoriteFlat(e.match.params.id).then((function(e){u(e)})))})),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:a.flatImages?a.flatImages[0]:"",alt:"Flat",width:"500",height:"600"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[a.title," "]}),Object(s.jsx)("p",{children:a.description}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:["Price: ",a.price]}),Object(s.jsxs)("li",{children:["Contact:",a.age]}),Object(s.jsxs)("li",{children:["Rooms:",a.rooms]}),Object(s.jsxs)("li",{children:["Bathrooms:",a.restrooms]}),Object(s.jsxs)("li",{children:["Neighborhood:",a.neighborhood]}),Object(s.jsxs)("li",{children:["Airconditioner:",a.airconditioner]}),Object(s.jsxs)("li",{children:["Balcony:",a.balcony]}),Object(s.jsxs)("li",{children:["Elevator:",a.elevator]}),Object(s.jsxs)("li",{children:["Parking:",a.parking]}),Object(s.jsxs)("li",{children:["Address:",a.address]}),Object(s.jsxs)("li",{children:["Square Meters:",a.squareMeters]}),Object(s.jsxs)("li",{children:["Furnished:",a.furnished]}),Object(s.jsxs)("li",{children:["Terrace:",a.terrace]}),Object(s.jsxs)("li",{children:["Swimming Pool:",a.swimmingPool]}),Object(s.jsxs)("li",{children:["Central Heating:",a.centralHeating]}),Object(s.jsxs)("li",{children:["Store Room:",a.storeRoom]}),Object(s.jsxs)("li",{children:["Builtin Wardrobes:",a.builtinWardrobes]}),Object(s.jsxs)("li",{children:["Central Heating:",a.centralHeating]})]})]}),a.flatOwner===e.user._id?Object(s.jsx)(J,{buttonTitle:"Edit Flat",link:"/flat/edit/".concat(a._id)}):Object(s.jsx)("button",{onClick:function(){z.setFavoriteFlat(e.match.params.id).then((function(){u(!j)}))},children:j?"remove from favorite":"add to favorite"})]})})),V=(n(190),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={flatmates:[]},e.handleSubmit=function(t){t.preventDefault();var n={location:t.target[0].value,gender:t.target[1].value,maxBudget:t.target[2].value,hasPet:"indifferent"===t.target[3].value?"":t.target[3].value,isSmoking:"indifferent"===t.target[4].value?"":t.target[4].value,isWorking:"indifferent"===t.target[5].value?"":t.target[5].value,isStudying:"indifferent"===t.target[6].value?"":t.target[6].value};z.getUsers(n).then((function(t){e.setState({flatmates:t})}))},e.componentDidMount=function(){0===e.state.flatmates.length&&z.getUsers({limit:20}).then((function(t){e.setState({flatmates:t})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"flatmatesList",children:[Object(s.jsx)("div",{className:"stickTheForm",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Zone"}),Object(s.jsx)("input",{type:"text"}),Object(s.jsx)("label",{children:"Gender"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"other",children:"Other"})]}),Object(s.jsx)("label",{children:"Maximum Budget"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Pets"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Smoke"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Working"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Studying"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("button",{className:"btnB",children:"Search"})]})}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"favoriteUsers-container",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:this.state.flatmates.map((function(e,t){return Object(s.jsx)(R,Object(b.a)({},e),t)}))})})})})})]})})}}]),n}(r.Component)),X=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",flatImages:"",price:0,contact:"",rooms:0,restrooms:0,neighborhood:"",airconditioner:!1,elevator:!1,balcony:!1,parking:!1,address:"",centralHeating:!1,squareMeters:0,furnished:!1,terrace:!1,swimmingPool:!1,storeRoom:!1,builtinWardrobes:!1,redirect:"",id:e.props.match.params.id},e.componentDidMount=function(){e.id&&z.getFlat(e.id).then((function(t){e.setState(Object(b.a)({},t))}))},e.handleChange=function(t){var n=t.target,s=n.name,r=n.value;e.setState(Object(L.a)({},s,r))},e.handleFileUpload=function(){var t=Object(q.a)(W.a.mark((function t(n){var s,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=new FormData).append("imageUrl",n.target.files[0]),t.prev=2,t.next=5,z.handleUpload(s);case 5:r=t.sent,e.setState({flatImages:r.secure_url}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Error while uploading the file: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(q.a)(W.a.mark((function t(n){var s,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!e.id){t.next=8;break}return s=e.id,t.next=6,z.updateFlat(e.id,e.state);case 6:t.next=12;break;case 8:return t.next=10,z.saveNewFlat(e.state);case 10:r=t.sent,s=r._id;case 12:e.setState({redirect:"/flat/".concat(s)}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("Error while adding the flat: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[this.state.redirect&&Object(s.jsx)(U.a,{to:this.state.redirect}),Object(s.jsx)("h2",{children:"New Flat"}),Object(s.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(s.jsx)("label",{children:"Name"}),Object(s.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Description"}),Object(s.jsx)("textarea",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Price \u20ac "}),Object(s.jsx)("input",{type:"number",name:"price",value:this.state.price,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Contact"}),Object(s.jsx)("input",{type:"text",name:"contact",value:this.state.contact,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Rooms"}),Object(s.jsx)("input",{type:"number",name:"rooms",value:this.state.rooms,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Bathrooms"}),Object(s.jsx)("input",{type:"number",name:"restrooms",value:this.state.restrooms,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Neighborhood"}),Object(s.jsx)("input",{type:"text",name:"neighborhood",value:this.state.neighborhood,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Airconditioner"}),Object(s.jsxs)("select",{name:"airconditioner",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:!1,children:"No"}),Object(s.jsx)("option",{value:!0,children:"Yes"})]}),Object(s.jsx)("label",{children:"Address"}),Object(s.jsx)("input",{type:"text",name:"address",value:this.state.address,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("label",{children:"Square Meters:"}),Object(s.jsx)("input",{type:"text",name:"squareMeters",value:this.state.squareMeters,onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),Object(s.jsx)("button",{type:"submit",children:"Save"})]})]})}}]),n}(r.Component));var $=function(e){return Object(s.jsxs)(d.b,{to:"/flat/".concat(e._id),children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.flatImages[0],alt:"Profile",height:"300"})}),Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:e.title}),Object(s.jsxs)("li",{children:["Price: \u20ac ",e.price]}),Object(s.jsxs)("li",{children:["District: ",e.neighborhood]}),Object(s.jsxs)("li",{children:["Number of rooms: ",e.rooms]})]})})]})},ee=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={flats:[]},e.handleSubmit=function(t){t.preventDefault();var n={minPrice:t.target[0].value,maxPrice:t.target[1].value,rooms:t.target[2].value,restrooms:t.target[3].value,neighborhood:t.target[4].value,airconditioner:"indifferent"===t.target[5].value?"":t.target[5].value,elevator:"indifferent"===t.target[6].value?"":t.target[6].value,balcony:"indifferent"===t.target[7].value?"":t.target[7].value,squareMeters:t.target[8].value,furnished:"indifferent"===t.target[9].value?"":t.target[9].value};z.getFlats(n).then((function(t){e.setState({flats:t})}))},e.componentDidMount=function(){0===e.state.flats.length&&z.getFlats({limit:20}).then((function(t){e.setState({flats:t})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Minimun Price"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Maximum Price"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Number of rooms"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Number of bathrooms"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Neighborhood"}),Object(s.jsx)("input",{type:"string"}),Object(s.jsx)("label",{children:"Air Conditioner"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Elevator"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Balcony"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("label",{children:"Minimum square meters"}),Object(s.jsx)("input",{type:"number"}),Object(s.jsx)("label",{children:"Furnished"}),Object(s.jsxs)("select",{children:[Object(s.jsx)("option",{value:"indifferent",children:"indifferent"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"true",children:"Yes"})]}),Object(s.jsx)("button",{children:"Search"})]}),Object(s.jsx)("section",{children:this.state.flats.map((function(e,t){return Object(s.jsx)($,Object(b.a)({},e),t)}))})]})}}]),n}(r.Component);var te=g((function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){0===a.length&&z.myFavoritesUsers().then((function(e){c(e)}))})),Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"favoriteUsers-container",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:a.map((function(e,t){return Object(s.jsx)(R,Object(b.a)({},e),t)}))})})})})}));var ne=g((function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){0===a.length&&z.myFavoritesFlats().then((function(e){c(e)}))})),Object(s.jsx)("div",{children:a.map((function(e,t){return Object(s.jsx)($,Object(b.a)({},e),t)}))})})),se=g(function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){z.getFlatmate(s.props.user._id).then((function(e){s.setState({user:e})}))},s.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),z.handleUpload(t).then((function(e){console.log("response is: ",e),s.setState({image:e.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},s.handleChange=function(e){var t=e.target,n=t.name,r=t.value;s.setState({user:Object(b.a)(Object(b.a)(Object(b.a)({},s.state.user),s.state.user.searchingFor),{},Object(L.a)({},n,r))})},s.handleFormSubmit=function(e){e.preventDefault(),z.editUser(s.props.user._id,s.state.user).then((function(e){console.log(e)}))},s.state={user:{}},s}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Edit Profile"}),Object(s.jsxs)("form",{onSubmit:function(t){return e.handleFormSubmit(t)},children:[Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Profile picture:"})," "]}),Object(s.jsx)("input",{type:"file",name:"image",onChange:this.handleFileUpload}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Name:"})," "]}),Object(s.jsx)("input",{type:"text",name:"username",value:this.state.user.username,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Gender"})," "]}),Object(s.jsxs)("select",{name:"gender",value:this.state.user.gender,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"other",children:"Other"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Age"})," "]}),Object(s.jsx)("input",{type:"number",name:"age",value:this.state.user.age,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Max budget"})," "]}),Object(s.jsx)("input",{type:"number",name:"maxBudget",value:this.state.user.maxBudget,onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Pets"})," "]}),Object(s.jsxs)("select",{name:"hasPet",value:this.state.user.hasPet,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you smoking?"})," "]}),Object(s.jsxs)("select",{name:"isSmoking",value:this.state.user.isSmoking,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you studying?"})," "]}),Object(s.jsxs)("select",{name:"isStudying",value:this.state.user.isStudying,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Are you working?"})," "]}),Object(s.jsxs)("select",{name:"isWorking",value:this.state.user.isWorking,onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("h4",{children:"I am looking for"})," "]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Gender"})," "]}),Object(s.jsxs)("select",{name:"gender",value:this.state.user.searchingFor?this.state.user.searchingFor.gender:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"female",children:"Female"}),Object(s.jsx)("option",{value:"male",children:"Male"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Pets"})," "]}),Object(s.jsxs)("select",{name:"hasPet",value:this.state.user.searchingFor?this.state.user.searchingFor.hasPet:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Smoke"})," "]}),Object(s.jsxs)("select",{name:"smoke",value:this.state.user.searchingFor?this.state.user.searchingFor.smoke:"",onChange:function(t){return e.handleChange(t)},children:[Object(s.jsx)("option",{value:"true",children:"Yes"}),Object(s.jsx)("option",{value:"false",children:"No"}),Object(s.jsx)("option",{value:"indifferent",children:"Indifferent"})]}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"Age between"})," "]}),Object(s.jsx)("input",{type:"number",name:"minAge",value:this.state.user.searchingFor?this.state.user.searchingFor.minAge:"",onChange:function(t){return e.handleChange(t)}}),Object(s.jsxs)("label",{children:[" ",Object(s.jsx)("b",{children:"and"})," "]}),Object(s.jsx)("input",{type:"number",name:"maxAge",value:this.state.user.searchingFor?this.state.user.searchingFor.maxAge:"",onChange:function(t){return e.handleChange(t)}}),Object(s.jsx)("button",{type:"submit",children:"Save your profile "})]})]})}}]),n}(r.Component)),re=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={listOfFlats:[]},e.fetchAllFlats=function(){z.myFlats().then((function(t){var n=t;e.setState({listOfFlats:n})})).catch((function(e){return console.log(e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchAllFlats()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"My Listings"}),Object(s.jsx)("div",{children:this.state.listOfFlats.map((function(e,t){return Object(s.jsx)($,Object(b.a)({},e),t)}))})]})}}]),n}(r.Component);var ae=g((function(e){var t="";return t=e.user?"Flat Hunter"===e.user.userType?"/dashboardHunter":"/dashboardOwner":"/calculator",Object(s.jsx)(U.a,{to:t})}));var ce=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),a=n[0],c=n[1],i={display:"block",top:"10px",left:a?"10px":"300px"};return Object(s.jsx)(y,{children:Object(s.jsxs)("div",{className:"body",children:[Object(s.jsx)(N,{isActive:a}),Object(s.jsxs)("div",{className:"page-content p-5 ".concat(a?"active":""),id:"content",children:[Object(s.jsxs)("button",{id:"sidebarCollapse",type:"button",className:"btn btn-light bg-white rounded-pill shadow-sm px-4 mb-4",style:i,onClick:function(){c(!a)},children:[Object(s.jsx)(w.a,{icon:F.a}),Object(s.jsx)("small",{className:"text-uppercase font-weight-bold",children:"Menu"})]}),Object(s.jsxs)(U.d,{children:[Object(s.jsx)(U.b,{exact:!0,path:"/calculator",component:P}),Object(s.jsx)(D,{path:"/signup",component:_}),Object(s.jsx)(D,{path:"/login",component:T}),Object(s.jsx)(Y,{path:"/private",component:E}),Object(s.jsx)(U.b,{exact:!0,path:"/",component:ae}),Object(s.jsx)(Y,{path:"/dashboardHunter",component:G}),Object(s.jsx)(Y,{path:"/dashboardOwner",component:K}),Object(s.jsx)(Y,{exact:!0,path:"/flat/:id",component:Q}),Object(s.jsx)(Y,{path:"/addMyFlat",component:X}),Object(s.jsx)(Y,{exact:!0,path:"/flat/edit/:id",component:X}),Object(s.jsx)(Y,{exact:!0,path:"/flats",component:ee}),Object(s.jsx)(Y,{exact:!0,path:"/myListings",component:re}),Object(s.jsx)(U.b,{exact:!0,path:"/flats/favorites",component:ne}),Object(s.jsx)(U.b,{exact:!0,path:"/users/favorites",component:te}),Object(s.jsx)(U.b,{exact:!0,path:"/user/:id",component:Z}),Object(s.jsx)(Y,{path:"/improveMyProfile",component:se}),Object(s.jsx)(U.b,{exact:!0,path:"/flatmates",component:V})]})]})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,485)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};i.a.render(Object(s.jsx)(d.a,{children:Object(s.jsx)(ce,{})}),document.getElementById("root")),ie()}},[[484,1,2]]]);
//# sourceMappingURL=main.0f4ca2d8.chunk.js.map